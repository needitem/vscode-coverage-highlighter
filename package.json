{
  "name": "coverage-highlighter",
  "displayName": "Coverage Highlighter",
  "description": "Coverage XML 파일을 사용하여 코드 커버리지를 시각화합니다",
  "version": "1.5.0",
  "publisher": "your-publisher",
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "coverage-highlighter",
          "title": "Coverage Highlighter",
          "icon": "$(beaker)"
        }
      ]
    },
    "views": {
      "coverage-highlighter": [
        {
          "id": "coverageExplorer",
          "name": "Coverage Explorer"
        }
      ]
    },
    "commands": [
      {
        "command": "coverage-highlighter.loadCoverage",
        "title": "Coverage: Load Coverage XML",
        "icon": "$(folder-opened)"
      },
      {
        "command": "coverage-highlighter.clearCoverage",
        "title": "Coverage: Clear Highlights",
        "icon": "$(clear-all)"
      },
      {
        "command": "coverage-highlighter.showSummary",
        "title": "Coverage: Show Summary"
      },
      {
        "command": "coverage-highlighter.classifyLine",
        "title": "Coverage: Classify Uncovered Line"
      },
      {
        "command": "coverage-highlighter.classifySelection",
        "title": "Coverage: Classify Selected Lines"
      },
      {
        "command": "coverage-highlighter.manageReasons",
        "title": "Coverage: Manage Reasons",
        "icon": "$(gear)"
      },
      {
        "command": "coverage-highlighter.generateReport",
        "title": "Coverage: Generate Classification Report",
        "icon": "$(export)"
      },
      {
        "command": "coverage-highlighter.showClassifications",
        "title": "Coverage: Show Classifications"
      },
      {
        "command": "coverage-highlighter.refreshTree",
        "title": "Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "coverage-highlighter.goToLine",
        "title": "Go to Line"
      },
      {
        "command": "coverage-highlighter.removeClassification",
        "title": "분류 제거",
        "icon": "$(trash)"
      },
      {
        "command": "coverage-highlighter.quickClassifyDocument",
        "title": "Coverage: 문서로 분류 (Ctrl+Shift+1)",
        "icon": "$(file-text)"
      },
      {
        "command": "coverage-highlighter.quickClassifyComment",
        "title": "Coverage: 주석예정으로 분류 (Ctrl+Shift+2)",
        "icon": "$(comment)"
      },
      {
        "command": "coverage-highlighter.quickClassifyCover",
        "title": "Coverage: 태울예정으로 분류 (Ctrl+Shift+3)",
        "icon": "$(flame)"
      },
      {
        "command": "coverage-highlighter.classifyFromTree",
        "title": "분류하기",
        "icon": "$(add)"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "coverage-highlighter.classifyLine",
          "when": "editorTextFocus",
          "group": "coverage@1"
        },
        {
          "command": "coverage-highlighter.classifySelection",
          "when": "editorTextFocus && editorHasSelection",
          "group": "coverage@2"
        }
      ],
      "view/title": [
        {
          "command": "coverage-highlighter.loadCoverage",
          "when": "view == coverageExplorer",
          "group": "navigation@1"
        },
        {
          "command": "coverage-highlighter.refreshTree",
          "when": "view == coverageExplorer",
          "group": "navigation@2"
        },
        {
          "command": "coverage-highlighter.generateReport",
          "when": "view == coverageExplorer",
          "group": "navigation@3"
        }
      ],
      "view/item/context": [
        {
          "command": "coverage-highlighter.removeClassification",
          "when": "view == coverageExplorer && viewItem == classifiedLine",
          "group": "inline"
        },
        {
          "command": "coverage-highlighter.classifyFromTree",
          "when": "view == coverageExplorer && viewItem == unclassifiedLine",
          "group": "inline"
        }
      ]
    },
    "keybindings": [
      {
        "command": "coverage-highlighter.quickClassifyDocument",
        "key": "ctrl+shift+1",
        "when": "editorTextFocus"
      },
      {
        "command": "coverage-highlighter.quickClassifyComment",
        "key": "ctrl+shift+2",
        "when": "editorTextFocus"
      },
      {
        "command": "coverage-highlighter.quickClassifyCover",
        "key": "ctrl+shift+3",
        "when": "editorTextFocus"
      }
    ],
    "configuration": {
      "title": "Coverage Highlighter",
      "properties": {
        "coverageHighlighter.coveredColor": {
          "type": "string",
          "default": "rgba(0, 255, 0, 0.2)",
          "description": "커버된 코드의 배경색"
        },
        "coverageHighlighter.uncoveredColor": {
          "type": "string",
          "default": "rgba(255, 0, 0, 0.2)",
          "description": "커버되지 않은 코드의 배경색"
        },
        "coverageHighlighter.partialColor": {
          "type": "string",
          "default": "rgba(255, 255, 0, 0.2)",
          "description": "부분 커버된 코드의 배경색"
        },
        "coverageHighlighter.defaultCategory": {
          "type": "string",
          "enum": ["document", "comment-planned", "cover-planned"],
          "default": "cover-planned",
          "description": "기본 분류 카테고리 (단축키 없이 분류 시 사용)"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "package": "esbuild src/extension.ts --bundle --outfile=dist/extension.js --external:vscode --format=cjs --platform=node"
  },
  "devDependencies": {
    "@types/node": "^18.0.0",
    "@types/vscode": "^1.74.0",
    "esbuild": "^0.27.1",
    "typescript": "^5.0.0"
  },
  "dependencies": {
    "fast-xml-parser": "^4.3.0"
  }
}
